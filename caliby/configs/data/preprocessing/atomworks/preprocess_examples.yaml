out_dir: /media/scratch/datasets/atomworks_debug

num_workers: 8

dataset:
  _target_: atomworks.ml.datasets.StructuralDatasetWrapper
  dataset_parser:
      _target_: atomworks.ml.datasets.parsers.GenericDFParser
  dataset:
      _target_: atomworks.ml.datasets.PandasDataset
      name: null
      id_column: example_id
      data: ${out_dir}/metadata_for_caching.parquet
  cif_parser_args: ${cif_parser_args}

# CIF parser args
cif_parser_args:
  add_missing_atoms: true
  remove_waters: true
  remove_ccds: []
  fix_ligands_at_symmetry_centers: true
  fix_arginines: true
  convert_mse_to_met: true
  hydrogen_policy: "remove"

# --- sharding for multi-node runs ---
num_shards: 1       # total number of shards
shard_id: 0         # per-job shard id
